{"ast":null,"code":"import _regeneratorRuntime from \"/home/fazna/cleanit/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/fazna/cleanit/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/home/fazna/cleanit/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/fazna/cleanit/src/pages/Signup.tsx\";\n\nimport React, { useEffect, useState } from 'react';\nimport { IonHeader, IonToolbar, IonTitle, IonContent, IonPage, IonButtons, IonMenuButton, IonRow, IonCol, IonButton, IonList, IonItem, IonLabel, IonInput, IonText, IonModal, IonAlert, IonCard, IonCardContent } from '@ionic/react';\nimport './Login.scss';\nimport { setIsLoggedIn, setUsername } from '../data/user/user.actions';\nimport { connect } from '../data/connect';\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport { Plugins } from '@capacitor/core';\nimport { getUserData } from '../data/dataApi'; // import { Storage } from '@capacitor/storage';\n\nvar Storage = Plugins.Storage;\n\nvar Login = function Login(_ref) {\n  var setIsLoggedIn = _ref.setIsLoggedIn,\n      history = _ref.history,\n      setUsername = _ref.setUsername;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      username = _useState2[0],\n      setUserName = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      formSubmitted = _useState6[0],\n      setFormSubmitted = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      usernameError = _useState8[0],\n      setUsernameError = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      passwordError = _useState10[0],\n      setPasswordError = _useState10[1];\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      showModal = _useState12[0],\n      setShowModal = _useState12[1];\n\n  var _useState13 = useState(false),\n      _useState14 = _slicedToArray(_useState13, 2),\n      showAlert1 = _useState14[0],\n      setShowAlert1 = _useState14[1];\n\n  var _useState15 = useState(false),\n      _useState16 = _slicedToArray(_useState15, 2),\n      loading = _useState16[0],\n      setLoading = _useState16[1];\n\n  useEffect(function () {\n    function checkIfSignedIn() {\n      return _checkIfSignedIn.apply(this, arguments);\n    }\n\n    function _checkIfSignedIn() {\n      _checkIfSignedIn = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var checkname;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return checkName();\n\n              case 2:\n                checkname = _context.sent;\n\n                if (checkname !== null) {\n                  history.push('/dashboard', {\n                    direction: 'none'\n                  });\n                }\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return _checkIfSignedIn.apply(this, arguments);\n    }\n\n    checkIfSignedIn();\n  }, [history]);\n\n  var setName = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(val) {\n      var checkname;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return checkName();\n\n            case 2:\n              checkname = _context2.sent;\n\n              if (!(checkname === null)) {\n                _context2.next = 6;\n                break;\n              }\n\n              _context2.next = 6;\n              return Storage.set({\n                key: 'phonenumber',\n                value: val\n              });\n\n            case 6:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function setName(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var checkName = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      var _yield$Storage$get, value;\n\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return Storage.get({\n                key: 'phonenumber'\n              });\n\n            case 2:\n              _yield$Storage$get = _context3.sent;\n              value = _yield$Storage$get.value;\n              console.log(value);\n              return _context3.abrupt(\"return\", value);\n\n            case 6:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function checkName() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var removeName = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return Storage.remove({\n                key: 'phonenumber'\n              });\n\n            case 2:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function removeName() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  var checkData = /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              console.log(\"username\", username, \"type\", typeof username);\n              setUsername(username);\n              _context5.next = 4;\n              return getUserData();\n\n            case 4:\n              res = _context5.sent;\n              console.log(res);\n\n            case 6:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n\n    return function checkData() {\n      return _ref5.apply(this, arguments);\n    };\n  }(); // React.useEffect(()=>{\n  // })\n\n\n  var login = /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7(e) {\n      return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              setLoading(true);\n              window.recaptchaVerifier = new firebase.auth.RecaptchaVerifier('recaptcha-container');\n              e.preventDefault(); // setFormSubmitted(true);\n\n              if (!username) {\n                setUsernameError(true);\n              }\n\n              if (!password) {\n                setPasswordError(true);\n              }\n\n              console.log(username);\n\n              if (username) {\n                // window.recaptchaVerifier = \n                firebase.auth().signInWithPhoneNumber('+91' + username, window.recaptchaVerifier).then( /*#__PURE__*/function () {\n                  var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(confirmationResult) {\n                    return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n                      while (1) {\n                        switch (_context6.prev = _context6.next) {\n                          case 0:\n                            console.log(confirmationResult, typeof confirmationResult);\n                            window.confirmationResult = confirmationResult;\n                            setShowModal(true);\n                            setLoading(false);\n\n                          case 4:\n                          case \"end\":\n                            return _context6.stop();\n                        }\n                      }\n                    }, _callee6);\n                  }));\n\n                  return function (_x3) {\n                    return _ref7.apply(this, arguments);\n                  };\n                }()).catch(function (error) {\n                  // Error; SMS not sent\n                  // ...\n                  console.log(error);\n                  setPasswordError(true);\n                });\n              }\n\n            case 7:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, _callee7);\n    }));\n\n    return function login(_x2) {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n\n  var otpSubmit = /*#__PURE__*/function () {\n    var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee9(otp) {\n      return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n        while (1) {\n          switch (_context9.prev = _context9.next) {\n            case 0:\n              setShowModal(false); // if(confirmationRes!=={})\n\n              setLoading(true);\n              window.confirmationResult.confirm(otp).then( /*#__PURE__*/function () {\n                var _ref9 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8(result) {\n                  var user;\n                  return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n                    while (1) {\n                      switch (_context8.prev = _context8.next) {\n                        case 0:\n                          // User signed in successfully.\n                          user = result.user;\n                          _context8.next = 3;\n                          return setIsLoggedIn(true);\n\n                        case 3:\n                          // await setUsernameAction(user);\n                          setShowAlert1(true);\n                          setName(username);\n                          setUsername(username);\n                          history.push('/login', {\n                            direction: 'none'\n                          }); // ...\n\n                        case 7:\n                        case \"end\":\n                          return _context8.stop();\n                      }\n                    }\n                  }, _callee8);\n                }));\n\n                return function (_x5) {\n                  return _ref9.apply(this, arguments);\n                };\n              }()).catch(function (error) {// User couldn't sign in (bad verification code?)\n                // ...\n              });\n\n            case 3:\n            case \"end\":\n              return _context9.stop();\n          }\n        }\n      }, _callee9);\n    }));\n\n    return function otpSubmit(_x4) {\n      return _ref8.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(IonPage, {\n    id: \"signup-page\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(IonHeader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(IonToolbar, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IonButtons, {\n    slot: \"start\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IonMenuButton, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(IonTitle, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 11\n    }\n  }, \"Signup\"))), /*#__PURE__*/React.createElement(IonContent, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-logo\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"data:image/png;base64,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\",\n    alt: \"Ionic logo\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"form\", {\n    noValidate: true,\n    onSubmit: login,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IonList, {\n    className: \"div-with-space\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IonItem, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    position: \"stacked\",\n    color: \"primary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 15\n    }\n  }, \"Phone Number\"), /*#__PURE__*/React.createElement(IonInput, {\n    name: \"username\",\n    type: \"number\",\n    value: username,\n    spellCheck: false,\n    autocapitalize: \"off\",\n    onIonChange: function onIonChange(e) {\n      setUserName(e.detail.value);\n      setUsernameError(false);\n    },\n    required: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 15\n    }\n  })), formSubmitted && usernameError && /*#__PURE__*/React.createElement(IonText, {\n    color: \"danger\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 48\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"ion-padding-start\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 15\n    }\n  }, \"Username is required\")), formSubmitted && passwordError && /*#__PURE__*/React.createElement(IonText, {\n    color: \"danger\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 48\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"ion-padding-start\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 15\n    }\n  }, \"Error in code\"))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      margin: '10px'\n    },\n    id: \"recaptcha-container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(IonRow, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IonCol, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IonButton, {\n    disabled: loading,\n    type: \"submit\",\n    expand: \"block\",\n    id: \"sign-in-button\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 15\n    }\n  }, \"Send OTP\")))), /*#__PURE__*/React.createElement(IonModal, {\n    isOpen: showModal,\n    cssClass: \"my-custom-class\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IonContent, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IonToolbar, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IonButtons, {\n    slot: \"start\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IonMenuButton, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(IonTitle, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 11\n    }\n  }, \"OTP\")), /*#__PURE__*/React.createElement(IonCard, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IonCardContent, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IonItem, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IonText, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 15\n    }\n  }, \"+91 \", username)), /*#__PURE__*/React.createElement(IonItem, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    position: \"stacked\",\n    color: \"primary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 17\n    }\n  }, \"Enter your OTP\"), /*#__PURE__*/React.createElement(IonInput, {\n    disabled: loading,\n    name: \"otp\",\n    type: \"number\",\n    value: password,\n    maxlength: 1,\n    onIonChange: function onIonChange(e) {\n      setPassword(e.detail.value);\n      setPasswordError(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(IonButton, {\n    expand: \"block\",\n    onClick: function onClick() {\n      return otpSubmit(password);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 13\n    }\n  }, \"Submit\")))), /*#__PURE__*/React.createElement(IonAlert, {\n    isOpen: showAlert1,\n    onDidDismiss: function onDidDismiss() {\n      setShowAlert1(false);\n    },\n    cssClass: \"my-custom-class\",\n    header: 'Registration Successfull',\n    message: 'Enter your details to continue',\n    buttons: ['OK'],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 9\n    }\n  }))));\n};\n\nexport default connect({\n  mapDispatchToProps: {\n    setIsLoggedIn: setIsLoggedIn,\n    setUsername: setUsername,\n    getUserData: getUserData\n  },\n  component: Login\n});","map":{"version":3,"sources":["/home/fazna/cleanit/src/pages/Signup.tsx"],"names":["React","useEffect","useState","IonHeader","IonToolbar","IonTitle","IonContent","IonPage","IonButtons","IonMenuButton","IonRow","IonCol","IonButton","IonList","IonItem","IonLabel","IonInput","IonText","IonModal","IonAlert","IonCard","IonCardContent","setIsLoggedIn","setUsername","connect","firebase","Plugins","getUserData","Storage","Login","history","username","setUserName","password","setPassword","formSubmitted","setFormSubmitted","usernameError","setUsernameError","passwordError","setPasswordError","showModal","setShowModal","showAlert1","setShowAlert1","loading","setLoading","checkIfSignedIn","checkName","checkname","push","direction","setName","val","set","key","value","get","console","log","removeName","remove","checkData","res","login","e","window","recaptchaVerifier","auth","RecaptchaVerifier","preventDefault","signInWithPhoneNumber","then","confirmationResult","catch","error","otpSubmit","otp","confirm","result","user","detail","margin","mapDispatchToProps","component"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { IonHeader, IonToolbar, IonTitle, IonContent, IonPage, IonButtons, IonMenuButton, IonRow, IonCol, IonButton, IonList, IonItem, IonLabel, IonInput, IonText, IonModal, IonAlert, IonCard, IonCardContent, IonRouterLink, IonSpinner } from '@ionic/react';\nimport './Login.scss';\nimport { setIsLoggedIn, setUsername } from '../data/user/user.actions';\nimport { connect } from '../data/connect';\nimport { RouteComponentProps } from 'react-router';\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport { Plugins } from '@capacitor/core'\nimport { getUserData } from '../data/dataApi';\n// import { Storage } from '@capacitor/storage';\nconst { Storage } = Plugins\ninterface OwnProps extends RouteComponentProps {}\n\ninterface DispatchProps {\n  setIsLoggedIn: typeof setIsLoggedIn;\n  setUsername: typeof setUsername;\n  getUserData: typeof getUserData;\n}\n\ninterface LoginProps extends OwnProps,  DispatchProps { }\n\nconst Login: React.FC<LoginProps> = ({setIsLoggedIn, history, setUsername}) => {\n\n  const [username, setUserName] = useState('');\n  const [password, setPassword] = useState('');\n  const [formSubmitted, setFormSubmitted] = useState(false);\n  const [usernameError, setUsernameError] = useState(false);\n  const [passwordError, setPasswordError] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n  const [showAlert1, setShowAlert1] = useState(false);\n  const [loading,setLoading] = useState(false)\n  \n   useEffect(()=>{\n     async function checkIfSignedIn(){\n\n      let checkname =await checkName()\n      if(checkname!==null){\n        history.push('/dashboard', {direction: 'none'});\n      }\n     }\n     checkIfSignedIn()\n   },[history])\n\n  const setName = async(val:any) => {\n    let checkname= await checkName()\n    if(checkname===null){\n      await Storage.set({\n        key: 'phonenumber',\n        value: val,\n      });\n    }\n  };\n  \n  const checkName = async () => {\n    const { value } = await Storage.get({ key: 'phonenumber' });\n    console.log(value)\n    return value;\n    \n  };\n  \n  const removeName = async () => {\n    await Storage.remove({ key: 'phonenumber' });\n  };\n  const checkData = async () => {\n    console.log(\"username\",username,\"type\",typeof(username))\n    setUsername(username)\n    let res = await getUserData()\n    console.log(res)\n  }\n// React.useEffect(()=>{\n\n// })\n  const login = async (e: React.FormEvent) => {\n    setLoading(true)\n    window.recaptchaVerifier = new firebase.auth.RecaptchaVerifier('recaptcha-container');\n\n    e.preventDefault();\n    // setFormSubmitted(true);\n    if(!username) {\n      setUsernameError(true);\n    }\n    if(!password) {\n      setPasswordError(true);\n    }\n    console.log(username)\n\n    if(username) {\n      // window.recaptchaVerifier = \n      \n      firebase.auth().signInWithPhoneNumber(\n        '+91'+username,\n        window.recaptchaVerifier\n        )\n        .then(async(confirmationResult) => {\n      console.log(confirmationResult,typeof(confirmationResult))\n      window.confirmationResult=confirmationResult\n      setShowModal(true)\n     setLoading(false)\n    }).catch((error) => {\n      // Error; SMS not sent\n      // ...\n      console.log(error)\n      setPasswordError(true)\n    }); \n    }\n   \n  };\n  const otpSubmit = async(otp:string) => {\n    setShowModal(false)\n    // if(confirmationRes!=={})\n    setLoading(true)\n    window.confirmationResult.confirm(otp).then(async(result:any) => {\n      // User signed in successfully.\n      const user = result.user;\n      await setIsLoggedIn(true);\n      // await setUsernameAction(user);\n      setShowAlert1(true)\n      setName(username)\n      setUsername(username)\n      history.push('/login', {direction: 'none'});\n      // ...\n    }).catch((error:any) => {\n      // User couldn't sign in (bad verification code?)\n      // ...\n    });\n  }\n  return (\n    <IonPage id=\"signup-page\">\n      <IonHeader>\n        <IonToolbar>\n          <IonButtons slot=\"start\">\n            <IonMenuButton></IonMenuButton>\n          </IonButtons>\n          <IonTitle>Signup</IonTitle>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent>\n\n        <div className=\"login-logo\">\n          <img src=\"data:image/png;base64,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\" alt=\"Ionic logo\" />\n        </div>\n          <form noValidate onSubmit={login}>\n          <IonList className=\"div-with-space\">\n            <IonItem>\n              <IonLabel position=\"stacked\" color=\"primary\">Phone Number</IonLabel>\n              <IonInput name=\"username\" type=\"number\" value={username} spellCheck={false} autocapitalize=\"off\" onIonChange={e => {\n                setUserName(e.detail.value!);\n                setUsernameError(false);\n              }}\n                required>\n              </IonInput>\n            </IonItem>\n\n            {formSubmitted && usernameError && <IonText color=\"danger\">\n              <p className=\"ion-padding-start\">\n                Username is required\n              </p>\n            </IonText>}\n              {/* <IonButton onClick={()=>setName(username)}>ClickME</IonButton>\n              <IonButton onClick={()=>checkData()}>checkME</IonButton> */}\n\n            {/* <IonItem>\n              <IonLabel position=\"stacked\" color=\"primary\">Password</IonLabel>\n              <IonInput name=\"password\" type=\"password\" value={password} onIonChange={e => {\n                setPassword(e.detail.value!);\n                setPasswordError(false);\n              }}>\n              </IonInput>\n            </IonItem> */}\n\n            {formSubmitted && passwordError && <IonText color=\"danger\">\n              <p className=\"ion-padding-start\">\n                Error in code\n              </p>\n            </IonText>}\n          </IonList>\n          <div style={{margin:'10px'}} id=\"recaptcha-container\"></div>\n          <IonRow>\n            <IonCol>\n              <IonButton disabled={loading} type=\"submit\" expand=\"block\" id=\"sign-in-button\">\n   \n                Send OTP</IonButton>\n            </IonCol>\n          </IonRow>\n        </form>\n        <IonModal isOpen={showModal} cssClass='my-custom-class'>\n          <IonContent>\n          <IonToolbar>\n          <IonButtons slot=\"start\">\n            <IonMenuButton></IonMenuButton>\n          </IonButtons>\n          <IonTitle>OTP</IonTitle>\n        </IonToolbar>\n        <IonCard>\n          <IonCardContent>\n            <IonItem>\n              <IonText>\n                +91 {username}\n              </IonText>\n              \n            </IonItem>\n            <IonItem>\n                <IonLabel position=\"stacked\" color=\"primary\">Enter your OTP</IonLabel>\n                <IonInput disabled={loading} name=\"otp\" type=\"number\" value={password} maxlength={1} onIonChange={e => {\n                  setPassword(e.detail.value!);\n                  setPasswordError(false);\n                }}>\n                </IonInput>\n            </IonItem> \n            <IonButton expand=\"block\" onClick={() => otpSubmit(password)}>Submit</IonButton>\n\n          </IonCardContent>\n        </IonCard>\n            \n            </IonContent>\n        <IonAlert\n          isOpen={showAlert1}\n          onDidDismiss={() => {\n            \n            setShowAlert1(false)}}\n          cssClass='my-custom-class'\n          header={'Registration Successfull'}\n          message={'Enter your details to continue'}\n          buttons={['OK']}\n        />\n      </IonModal>\n      </IonContent>\n\n    </IonPage>\n  );\n};\n\nexport default connect<OwnProps, {}, DispatchProps>({\n  mapDispatchToProps: {\n    setIsLoggedIn,\n    setUsername,\n    getUserData\n  },\n  component: Login\n})"]},"metadata":{},"sourceType":"module"}