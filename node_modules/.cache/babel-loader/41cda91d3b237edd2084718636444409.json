{"ast":null,"code":"import _regeneratorRuntime from\"/home/fazna/cleanit/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/fazna/cleanit/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/fazna/cleanit/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{IonHeader,IonToolbar,IonTitle,IonContent,IonPage,IonButtons,IonMenuButton,IonRow,IonCol,IonButton,IonList,IonItem,IonLabel,IonInput,IonText,IonTextarea,IonToggle}from'@ionic/react';import'./Login.scss';import{setIsLoggedIn,setUsername}from'../data/user/user.actions';import{connect}from'../data/connect';var Login=function Login(_ref){var setIsLoggedIn=_ref.setIsLoggedIn,history=_ref.history,setUsernameAction=_ref.setUsername;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),age=_useState6[0],setAge=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),coord=_useState8[0],setCoord=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),location=_useState10[0],setLocation=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),gpsEnable=_useState12[0],setGpsEnabled=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),formSubmitted=_useState14[0],setFormSubmitted=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),usernameError=_useState16[0],setUsernameError=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),passwordError=_useState18[0],setPasswordError=_useState18[1];var login=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();setFormSubmitted(true);if(!username){setUsernameError(true);}if(!(username&&password)){_context.next=9;break;}_context.next=6;return setIsLoggedIn(true);case 6:_context.next=8;return setUsernameAction(username);case 8:history.push('/dashboard',{direction:'none'});case 9:history.push('/dashboard',{direction:'none'});case 10:case\"end\":return _context.stop();}}},_callee);}));return function login(_x){return _ref2.apply(this,arguments);};}();var getLocation=function getLocation(){// api.get('http://api.positionstack.com/v1/forward?access_key=bce98239614aaa6f7954015a64f6bb76')\n};return/*#__PURE__*/React.createElement(IonPage,{id:\"details-page\"},/*#__PURE__*/React.createElement(IonHeader,null,/*#__PURE__*/React.createElement(IonToolbar,null,/*#__PURE__*/React.createElement(IonButtons,{slot:\"start\"},/*#__PURE__*/React.createElement(IonMenuButton,null)),/*#__PURE__*/React.createElement(IonTitle,null,\"Details\"))),/*#__PURE__*/React.createElement(IonContent,null,/*#__PURE__*/React.createElement(\"form\",{noValidate:true,onSubmit:login},/*#__PURE__*/React.createElement(IonList,null,/*#__PURE__*/React.createElement(IonItem,null,/*#__PURE__*/React.createElement(IonLabel,{position:\"stacked\",color:\"primary\"},\"Name\"),/*#__PURE__*/React.createElement(IonInput,{name:\"username\",type:\"text\",value:username,spellCheck:false,autocapitalize:\"off\",onIonChange:function onIonChange(e){return setUsername(e.detail.value);},required:true})),formSubmitted&&usernameError&&/*#__PURE__*/React.createElement(IonText,{color:\"danger\"},/*#__PURE__*/React.createElement(\"p\",{className:\"ion-padding-start\"},\"Name is required\")),/*#__PURE__*/React.createElement(IonItem,null,/*#__PURE__*/React.createElement(IonLabel,{position:\"stacked\",color:\"primary\"},\"Age\"),/*#__PURE__*/React.createElement(IonInput,{name:\"age\",type:\"number\",value:age,spellCheck:false,autocapitalize:\"off\",onIonChange:function onIonChange(e){return setAge(e.detail.value);},required:true})),/*#__PURE__*/React.createElement(IonItem,null,/*#__PURE__*/React.createElement(IonLabel,{position:\"stacked\",color:\"primary\"},\"Use GPS\"),/*#__PURE__*/React.createElement(IonToggle,{checked:gpsEnable,onIonChange:function onIonChange(e){return setGpsEnabled(e.detail.checked);}})),!gpsEnable&&/*#__PURE__*/React.createElement(IonItem,null,/*#__PURE__*/React.createElement(IonLabel,{position:\"stacked\",color:\"primary\"},\"Location\"),/*#__PURE__*/React.createElement(IonTextarea,{name:\"text\",value:location,spellCheck:false,autocapitalize:\"off\",onIonChange:function onIonChange(e){return setLocation(e.detail.value);},required:true})),gpsEnable&&/*#__PURE__*/React.createElement(IonItem,null,/*#__PURE__*/React.createElement(IonLabel,{position:\"stacked\",color:\"primary\"},\"Location\"),/*#__PURE__*/React.createElement(IonButton,{color:\"primary\",onClick:function onClick(){getLocation();}},\"Use Current Location\"))),/*#__PURE__*/React.createElement(IonRow,null,/*#__PURE__*/React.createElement(IonCol,null,/*#__PURE__*/React.createElement(IonButton,{type:\"submit\",expand:\"block\",onClick:function onClick(e){return login(e);}},\"Submit\"))))));};export default connect({mapDispatchToProps:{setIsLoggedIn:setIsLoggedIn,setUsername:setUsername},component:Login});","map":{"version":3,"sources":["/home/fazna/cleanit/src/pages/Login.tsx"],"names":["React","useState","IonHeader","IonToolbar","IonTitle","IonContent","IonPage","IonButtons","IonMenuButton","IonRow","IonCol","IonButton","IonList","IonItem","IonLabel","IonInput","IonText","IonTextarea","IonToggle","setIsLoggedIn","setUsername","connect","Login","history","setUsernameAction","username","password","setPassword","age","setAge","coord","setCoord","location","setLocation","gpsEnable","setGpsEnabled","formSubmitted","setFormSubmitted","usernameError","setUsernameError","passwordError","setPasswordError","login","e","preventDefault","push","direction","getLocation","detail","value","checked","mapDispatchToProps","component"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { IonHeader, IonToolbar, IonTitle, IonContent, IonPage, IonButtons, IonMenuButton, IonRow, IonCol, IonButton, IonList, IonItem, IonLabel, IonInput, IonText, IonTextarea, IonToggle } from '@ionic/react';\nimport './Login.scss';\nimport { setIsLoggedIn, setUsername } from '../data/user/user.actions';\nimport { connect } from '../data/connect';\nimport { RouteComponentProps } from 'react-router';\n\ninterface OwnProps extends RouteComponentProps {}\n\ninterface DispatchProps {\n  setIsLoggedIn: typeof setIsLoggedIn;\n  setUsername: typeof setUsername;\n}\n\ninterface LoginProps extends OwnProps,  DispatchProps { }\n\nconst Login: React.FC<LoginProps> = ({setIsLoggedIn, history, setUsername: setUsernameAction}) => {\n\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [age,setAge] = useState('');\n  const [coord,setCoord] = useState('');\n  const [location,setLocation] = useState('');\n  const [gpsEnable,setGpsEnabled] = useState(false)\n  const [formSubmitted, setFormSubmitted] = useState(false);\n  const [usernameError, setUsernameError] = useState(false);\n  const [passwordError, setPasswordError] = useState(false);\n\n  const login = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setFormSubmitted(true);\n    if(!username) {\n      setUsernameError(true);\n    }\n   \n\n    if(username && password) {\n      await setIsLoggedIn(true);\n      await setUsernameAction(username);\n      history.push('/dashboard', {direction: 'none'});\n    }\n    history.push('/dashboard', {direction: 'none'});\n\n  };\n  const getLocation = () => {\n    // api.get('http://api.positionstack.com/v1/forward?access_key=bce98239614aaa6f7954015a64f6bb76')\n  }\n  return (\n    <IonPage id=\"details-page\">\n      <IonHeader>\n        <IonToolbar>\n          <IonButtons slot=\"start\">\n            <IonMenuButton></IonMenuButton>\n          </IonButtons>\n          <IonTitle>Details</IonTitle>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent>\n\n        <form noValidate onSubmit={login}>\n          <IonList>\n            <IonItem>\n              <IonLabel position=\"stacked\" color=\"primary\">Name</IonLabel>\n              <IonInput name=\"username\" type=\"text\" value={username} spellCheck={false} autocapitalize=\"off\" onIonChange={e => setUsername(e.detail.value!)}\n                required>\n              </IonInput>\n            </IonItem>\n\n            {formSubmitted && usernameError && <IonText color=\"danger\">\n              <p className=\"ion-padding-start\">\n                Name is required\n              </p>\n            </IonText>}\n\n            \n            <IonItem>\n              <IonLabel position=\"stacked\" color=\"primary\">Age</IonLabel>\n              <IonInput name=\"age\" type=\"number\" value={age} spellCheck={false} autocapitalize=\"off\" onIonChange={e => setAge(e.detail.value!)}\n                required>\n              </IonInput>\n            </IonItem>\n            <IonItem>\n              <IonLabel position=\"stacked\" color=\"primary\">Use GPS</IonLabel>\n              <IonToggle checked={gpsEnable} onIonChange={e => setGpsEnabled(e.detail.checked)} />\n            \n            </IonItem>\n            { !gpsEnable && \n            <IonItem>\n              <IonLabel position=\"stacked\" color=\"primary\">Location</IonLabel>\n              <IonTextarea name=\"text\" value={location} spellCheck={false} autocapitalize=\"off\" onIonChange={e => setLocation(e.detail.value!)}\n                required>\n              </IonTextarea>\n            </IonItem>}\n            { gpsEnable && \n            <IonItem>\n              <IonLabel position=\"stacked\" color=\"primary\">Location</IonLabel>\n              <IonButton color=\"primary\" onClick={()=>{getLocation()}}>Use Current Location</IonButton>\n            </IonItem>}\n          </IonList>\n\n          <IonRow>\n            <IonCol>\n              <IonButton type=\"submit\" expand=\"block\" onClick={(e)=>login(e)}>Submit</IonButton>\n            </IonCol>\n            {/* <IonCol>\n              <IonButton routerLink=\"/signup\" color=\"light\" expand=\"block\">Signup</IonButton>\n            </IonCol> */}\n          </IonRow>\n        </form>\n\n      </IonContent>\n\n    </IonPage>\n  );\n};\n\nexport default connect<OwnProps, {}, DispatchProps>({\n  mapDispatchToProps: {\n    setIsLoggedIn,\n    setUsername\n  },\n  component: Login\n})"]},"metadata":{},"sourceType":"module"}