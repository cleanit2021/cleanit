{"ast":null,"code":"import React,{useRef,useEffect}from'react';var Map=function Map(_ref){var mapCenter=_ref.mapCenter,locations=_ref.locations;var mapEle=useRef(null);var map=useRef();useEffect(function(){map.current=new google.maps.Map(mapEle.current,{center:{lat:mapCenter.lat,lng:mapCenter.lng},zoom:16});addMarkers();google.maps.event.addListenerOnce(map.current,'idle',function(){if(mapEle.current){mapEle.current.classList.add('show-map');}});function addMarkers(){locations.forEach(function(markerData){var infoWindow=new google.maps.InfoWindow({content:\"<h5>\".concat(markerData.name,\"</h5>\")});var marker=new google.maps.Marker({position:new google.maps.LatLng(markerData.lat,markerData.lng),map:map.current,title:markerData.name});marker.addListener('click',function(){infoWindow.open(map.current,marker);});});}},[mapCenter,locations]);return/*#__PURE__*/React.createElement(\"div\",{ref:mapEle,className:\"map-canvas\"});};export default Map;","map":{"version":3,"sources":["/home/fazna/cleanit/src/components/Map.tsx"],"names":["React","useRef","useEffect","Map","mapCenter","locations","mapEle","map","current","google","maps","center","lat","lng","zoom","addMarkers","event","addListenerOnce","classList","add","forEach","markerData","infoWindow","InfoWindow","content","name","marker","Marker","position","LatLng","title","addListener","open"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,MAAhB,CAAwBC,SAAxB,KAAyC,OAAzC,CAQA,GAAMC,CAAAA,GAAuB,CAAG,QAA1BA,CAAAA,GAA0B,MAA8B,IAA3BC,CAAAA,SAA2B,MAA3BA,SAA2B,CAAhBC,SAAgB,MAAhBA,SAAgB,CAC5D,GAAMC,CAAAA,MAAM,CAAGL,MAAM,CAAiB,IAAjB,CAArB,CACA,GAAMM,CAAAA,GAAG,CAAGN,MAAM,EAAlB,CAEAC,SAAS,CAAC,UAAM,CAEdK,GAAG,CAACC,OAAJ,CAAc,GAAIC,CAAAA,MAAM,CAACC,IAAP,CAAYP,GAAhB,CAAoBG,MAAM,CAACE,OAA3B,CAAoC,CAChDG,MAAM,CAAE,CACNC,GAAG,CAAER,SAAS,CAACQ,GADT,CAENC,GAAG,CAAET,SAAS,CAACS,GAFT,CADwC,CAKhDC,IAAI,CAAE,EAL0C,CAApC,CAAd,CAQAC,UAAU,GAEVN,MAAM,CAACC,IAAP,CAAYM,KAAZ,CAAkBC,eAAlB,CAAkCV,GAAG,CAACC,OAAtC,CAA+C,MAA/C,CAAuD,UAAM,CAC3D,GAAIF,MAAM,CAACE,OAAX,CAAoB,CAClBF,MAAM,CAACE,OAAP,CAAeU,SAAf,CAAyBC,GAAzB,CAA6B,UAA7B,EACD,CACF,CAJD,EAMA,QAASJ,CAAAA,UAAT,EAAsB,CACpBV,SAAS,CAACe,OAAV,CAAkB,SAACC,UAAD,CAAgB,CAChC,GAAIC,CAAAA,UAAU,CAAG,GAAIb,CAAAA,MAAM,CAACC,IAAP,CAAYa,UAAhB,CAA2B,CAC1CC,OAAO,eAASH,UAAU,CAACI,IAApB,SADmC,CAA3B,CAAjB,CAIA,GAAIC,CAAAA,MAAM,CAAG,GAAIjB,CAAAA,MAAM,CAACC,IAAP,CAAYiB,MAAhB,CAAuB,CAClCC,QAAQ,CAAE,GAAInB,CAAAA,MAAM,CAACC,IAAP,CAAYmB,MAAhB,CAAuBR,UAAU,CAACT,GAAlC,CAAuCS,UAAU,CAACR,GAAlD,CADwB,CAElCN,GAAG,CAAEA,GAAG,CAACC,OAFyB,CAGlCsB,KAAK,CAAET,UAAU,CAACI,IAHgB,CAAvB,CAAb,CAMAC,MAAM,CAACK,WAAP,CAAmB,OAAnB,CAA4B,UAAM,CAChCT,UAAU,CAACU,IAAX,CAAgBzB,GAAG,CAACC,OAApB,CAA8BkB,MAA9B,EACD,CAFD,EAGD,CAdD,EAeD,CAEF,CApCQ,CAoCN,CAACtB,SAAD,CAAYC,SAAZ,CApCM,CAAT,CAsCA,mBACE,2BACA,GAAG,CAAEC,MADL,CAEC,SAAS,CAAC,YAFX,EADF,CAKD,CA/CD,CAiDA,cAAeH,CAAAA,GAAf","sourcesContent":["import React, { useRef, useEffect } from 'react';\nimport { Location } from '../models/Location';\n\ninterface MapProps {\n  locations: Location[]\n  mapCenter: Location\n}\n\nconst Map: React.FC<MapProps> = ({ mapCenter, locations }) => {\n  const mapEle = useRef<HTMLDivElement>(null);\n  const map = useRef<google.maps.Map>();\n\n  useEffect(() => {\n\n    map.current = new google.maps.Map(mapEle.current, {\n      center: {\n        lat: mapCenter.lat,\n        lng: mapCenter.lng\n      },\n      zoom: 16\n    });\n\n    addMarkers();\n\n    google.maps.event.addListenerOnce(map.current, 'idle', () => {\n      if (mapEle.current) {\n        mapEle.current.classList.add('show-map');\n      }\n    });\n\n    function addMarkers() {\n      locations.forEach((markerData) => {\n        let infoWindow = new google.maps.InfoWindow({\n          content: `<h5>${markerData.name}</h5>`\n        });\n  \n        let marker = new google.maps.Marker({\n          position: new google.maps.LatLng(markerData.lat, markerData.lng),\n          map: map.current!,\n          title: markerData.name\n        });\n  \n        marker.addListener('click', () => {\n          infoWindow.open(map.current!, marker);\n        });\n      });\n    }\n\n  }, [mapCenter, locations]);\n\n  return (\n    <div \n    ref={mapEle}\n     className=\"map-canvas\"></div>\n  );\n}\n\nexport default Map;"]},"metadata":{},"sourceType":"module"}