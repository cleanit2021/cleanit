{"ast":null,"code":"import _slicedToArray from \"/home/fazna/cleanit/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/fazna/cleanit/src/pages/SchedulePage.tsx\";\n\nimport React, { useState, useRef } from 'react';\nimport { IonToolbar, IonContent, IonPage, IonButtons, IonTitle, IonMenuButton, IonSegment, IonSegmentButton, IonButton, IonIcon, IonSearchbar, IonRefresher, IonRefresherContent, IonToast, IonModal, IonHeader, getConfig } from '@ionic/react';\nimport { options, search } from 'ionicons/icons';\nimport SessionList from '../components/SessionList';\nimport SessionListFilter from '../components/SessionListFilter';\nimport './SchedulePage.scss';\nimport ShareSocialFab from '../components/ShareSocialFab';\nimport * as selectors from '../data/selectors';\nimport { connect } from '../data/connect';\nimport { setSearchText } from '../data/sessions/sessions.actions';\n\nvar SchedulePage = function SchedulePage(_ref) {\n  var favoritesSchedule = _ref.favoritesSchedule,\n      schedule = _ref.schedule,\n      setSearchText = _ref.setSearchText,\n      mode = _ref.mode;\n\n  var _useState = useState('all'),\n      _useState2 = _slicedToArray(_useState, 2),\n      segment = _useState2[0],\n      setSegment = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      showSearchbar = _useState4[0],\n      setShowSearchbar = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      showFilterModal = _useState6[0],\n      setShowFilterModal = _useState6[1];\n\n  var ionRefresherRef = useRef(null);\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      showCompleteToast = _useState8[0],\n      setShowCompleteToast = _useState8[1];\n\n  var pageRef = useRef(null);\n  var ios = mode === 'ios';\n\n  var doRefresh = function doRefresh() {\n    setTimeout(function () {\n      ionRefresherRef.current.complete();\n      setShowCompleteToast(true);\n    }, 2500);\n  };\n\n  return /*#__PURE__*/React.createElement(IonPage, {\n    ref: pageRef,\n    id: \"schedule-page\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(IonHeader, {\n    translucent: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(IonToolbar, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, !showSearchbar && /*#__PURE__*/React.createElement(IonButtons, {\n    slot: \"start\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IonMenuButton, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 15\n    }\n  })), ios && /*#__PURE__*/React.createElement(IonSegment, {\n    value: segment,\n    onIonChange: function onIonChange(e) {\n      return setSegment(e.detail.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IonSegmentButton, {\n    value: \"all\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 15\n    }\n  }, \"All\"), /*#__PURE__*/React.createElement(IonSegmentButton, {\n    value: \"favorites\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 15\n    }\n  }, \"Favorites\")), !ios && !showSearchbar && /*#__PURE__*/React.createElement(IonTitle, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, \"Schedule\"), showSearchbar && /*#__PURE__*/React.createElement(IonSearchbar, {\n    showCancelButton: \"always\",\n    placeholder: \"Search\",\n    onIonChange: function onIonChange(e) {\n      return setSearchText(e.detail.value);\n    },\n    onIonCancel: function onIonCancel() {\n      return setShowSearchbar(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(IonButtons, {\n    slot: \"end\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }, !ios && !showSearchbar && /*#__PURE__*/React.createElement(IonButton, {\n    onClick: function onClick() {\n      return setShowSearchbar(true);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(IonIcon, {\n    slot: \"icon-only\",\n    icon: search,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }\n  })), !showSearchbar && /*#__PURE__*/React.createElement(IonButton, {\n    onClick: function onClick() {\n      return setShowFilterModal(true);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 15\n    }\n  }, mode === 'ios' ? 'Filter' : /*#__PURE__*/React.createElement(IonIcon, {\n    icon: options,\n    slot: \"icon-only\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 46\n    }\n  })))), !ios && /*#__PURE__*/React.createElement(IonToolbar, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IonSegment, {\n    value: segment,\n    onIonChange: function onIonChange(e) {\n      return setSegment(e.detail.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IonSegmentButton, {\n    value: \"all\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 15\n    }\n  }, \"All\"), /*#__PURE__*/React.createElement(IonSegmentButton, {\n    value: \"favorites\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 15\n    }\n  }, \"Favorites\")))), /*#__PURE__*/React.createElement(IonContent, {\n    fullscreen: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(IonHeader, {\n    collapse: \"condense\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IonToolbar, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IonTitle, {\n    size: \"large\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }\n  }, \"Schedule\")), /*#__PURE__*/React.createElement(IonToolbar, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IonSearchbar, {\n    placeholder: \"Search\",\n    onIonChange: function onIonChange(e) {\n      return setSearchText(e.detail.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(IonRefresher, {\n    slot: \"fixed\",\n    ref: ionRefresherRef,\n    onIonRefresh: doRefresh,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IonRefresherContent, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(IonToast, {\n    isOpen: showCompleteToast,\n    message: \"Refresh complete\",\n    duration: 2000,\n    onDidDismiss: function onDidDismiss() {\n      return setShowCompleteToast(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(SessionList, {\n    schedule: schedule,\n    listType: segment,\n    hide: segment === 'favorites',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(SessionList // schedule={schedule}\n  , {\n    schedule: favoritesSchedule,\n    listType: segment,\n    hide: segment === 'all',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(IonModal, {\n    isOpen: showFilterModal,\n    onDidDismiss: function onDidDismiss() {\n      return setShowFilterModal(false);\n    },\n    swipeToClose: true,\n    presentingElement: pageRef.current,\n    cssClass: \"session-list-filter\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(SessionListFilter, {\n    onDismissModal: function onDismissModal() {\n      return setShowFilterModal(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(ShareSocialFab, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default connect({\n  mapStateToProps: function mapStateToProps(state) {\n    return {\n      schedule: selectors.getSearchedSchedule(state),\n      favoritesSchedule: selectors.getGroupedFavorites(state),\n      mode: getConfig().get('mode')\n    };\n  },\n  mapDispatchToProps: {\n    setSearchText: setSearchText\n  },\n  component: React.memo(SchedulePage)\n});","map":{"version":3,"sources":["/home/fazna/cleanit/src/pages/SchedulePage.tsx"],"names":["React","useState","useRef","IonToolbar","IonContent","IonPage","IonButtons","IonTitle","IonMenuButton","IonSegment","IonSegmentButton","IonButton","IonIcon","IonSearchbar","IonRefresher","IonRefresherContent","IonToast","IonModal","IonHeader","getConfig","options","search","SessionList","SessionListFilter","ShareSocialFab","selectors","connect","setSearchText","SchedulePage","favoritesSchedule","schedule","mode","segment","setSegment","showSearchbar","setShowSearchbar","showFilterModal","setShowFilterModal","ionRefresherRef","showCompleteToast","setShowCompleteToast","pageRef","ios","doRefresh","setTimeout","current","complete","e","detail","value","mapStateToProps","state","getSearchedSchedule","getGroupedFavorites","get","mapDispatchToProps","component","memo"],"mappings":"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","sourcesContent":["import React, { useState, useRef } from 'react';\n\nimport { IonToolbar, IonContent, IonPage, IonButtons, IonTitle, IonMenuButton, IonSegment, IonSegmentButton, IonButton, IonIcon, IonSearchbar, IonRefresher, IonRefresherContent, IonToast, IonModal, IonHeader, getConfig } from '@ionic/react';\nimport { options, search } from 'ionicons/icons';\n\nimport SessionList from '../components/SessionList';\nimport SessionListFilter from '../components/SessionListFilter';\nimport './SchedulePage.scss'\n\nimport ShareSocialFab from '../components/ShareSocialFab';\n\nimport * as selectors from '../data/selectors';\nimport { connect } from '../data/connect';\nimport { setSearchText } from '../data/sessions/sessions.actions';\nimport { Schedule } from '../models/Schedule';\n\ninterface OwnProps { }\n\ninterface StateProps {\n  schedule: Schedule;\n  favoritesSchedule: Schedule;\n  mode: 'ios' | 'md'\n}\n\ninterface DispatchProps {\n  setSearchText: typeof setSearchText;\n}\n\ntype SchedulePageProps = OwnProps & StateProps & DispatchProps;\n\nconst SchedulePage: React.FC<SchedulePageProps> = ({ favoritesSchedule, schedule, setSearchText, mode }) => {\n  const [segment, setSegment] = useState<'all' | 'favorites'>('all');\n  const [showSearchbar, setShowSearchbar] = useState<boolean>(false);\n  const [showFilterModal, setShowFilterModal] = useState(false);\n  const ionRefresherRef = useRef<HTMLIonRefresherElement>(null);\n  const [showCompleteToast, setShowCompleteToast] = useState(false);\n\n  const pageRef = useRef<HTMLElement>(null);\n\n  const ios = mode === 'ios';\n\n  const doRefresh = () => {\n    setTimeout(() => {\n      ionRefresherRef.current!.complete();\n      setShowCompleteToast(true);\n    }, 2500)\n  };\n\n  return (\n    <IonPage ref={pageRef} id=\"schedule-page\">\n      <IonHeader translucent={true}>\n        <IonToolbar>\n          {!showSearchbar &&\n            <IonButtons slot=\"start\">\n              <IonMenuButton />\n            </IonButtons>\n          }\n          {ios &&\n            <IonSegment value={segment} onIonChange={(e) => setSegment(e.detail.value as any)}>\n              <IonSegmentButton value=\"all\">\n                All\n              </IonSegmentButton>\n              <IonSegmentButton value=\"favorites\">\n                Favorites\n              </IonSegmentButton>\n            </IonSegment>\n          }\n          {!ios && !showSearchbar &&\n            <IonTitle>Schedule</IonTitle>\n          }\n          {showSearchbar &&\n            <IonSearchbar showCancelButton=\"always\" placeholder=\"Search\" onIonChange={(e: CustomEvent) => setSearchText(e.detail.value)} onIonCancel={() => setShowSearchbar(false)}></IonSearchbar>\n          }\n\n          <IonButtons slot=\"end\">\n            {!ios && !showSearchbar &&\n              <IonButton onClick={() => setShowSearchbar(true)}>\n                <IonIcon slot=\"icon-only\" icon={search}></IonIcon>\n              </IonButton>\n            }\n            {!showSearchbar &&\n              <IonButton onClick={() => setShowFilterModal(true)}>\n                {mode === 'ios' ? 'Filter' : <IonIcon icon={options} slot=\"icon-only\" />}\n              </IonButton>\n            }\n          </IonButtons>\n        </IonToolbar>\n\n        {!ios &&\n          <IonToolbar>\n            <IonSegment value={segment} onIonChange={(e) => setSegment(e.detail.value as any)}>\n              <IonSegmentButton value=\"all\">\n                All\n              </IonSegmentButton>\n              <IonSegmentButton value=\"favorites\">\n                Favorites\n              </IonSegmentButton>\n            </IonSegment>\n          </IonToolbar>\n        }\n      </IonHeader>\n\n      <IonContent fullscreen={true}>\n        <IonHeader collapse=\"condense\">\n          <IonToolbar>\n            <IonTitle size=\"large\">Schedule</IonTitle>\n          </IonToolbar>\n          <IonToolbar>\n            <IonSearchbar placeholder=\"Search\" onIonChange={(e: CustomEvent) => setSearchText(e.detail.value)}></IonSearchbar>\n          </IonToolbar>\n        </IonHeader>\n\n        <IonRefresher slot=\"fixed\" ref={ionRefresherRef} onIonRefresh={doRefresh}>\n          <IonRefresherContent />\n        </IonRefresher>\n\n        <IonToast\n          isOpen={showCompleteToast}\n          message=\"Refresh complete\"\n          duration={2000}\n          onDidDismiss={() => setShowCompleteToast(false)}\n        />\n\n        <SessionList\n          schedule={schedule}\n          listType={segment}\n          hide={segment === 'favorites'}\n        />\n        <SessionList\n          // schedule={schedule}\n          schedule={favoritesSchedule}\n          listType={segment}\n          hide={segment === 'all'}\n        />\n      </IonContent>\n\n      <IonModal\n        isOpen={showFilterModal}\n        onDidDismiss={() => setShowFilterModal(false)}\n        swipeToClose={true}\n        presentingElement={pageRef.current!}\n        cssClass=\"session-list-filter\"\n      >\n        <SessionListFilter\n          onDismissModal={() => setShowFilterModal(false)}\n        />\n      </IonModal>\n\n      <ShareSocialFab />\n\n    </IonPage>\n  );\n};\n\nexport default connect<OwnProps, StateProps, DispatchProps>({\n  mapStateToProps: (state) => ({\n    schedule: selectors.getSearchedSchedule(state),\n    favoritesSchedule: selectors.getGroupedFavorites(state),\n    mode: getConfig()!.get('mode')\n  }),\n  mapDispatchToProps: {\n    setSearchText\n  },\n  component: React.memo(SchedulePage)\n});"]},"metadata":{},"sourceType":"module"}