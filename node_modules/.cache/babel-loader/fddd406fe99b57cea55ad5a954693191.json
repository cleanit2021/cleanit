{"ast":null,"code":"import{createSelector}from'reselect';var getSchedule=function getSchedule(state){return state.data.schedule;};export var getSpeakers=function getSpeakers(state){return state.data.speakers;};var getSessions=function getSessions(state){return state.data.sessions;};var getFilteredTracks=function getFilteredTracks(state){return state.data.filteredTracks;};var getFavoriteIds=function getFavoriteIds(state){return state.data.favorites;};var getSearchText=function getSearchText(state){return state.data.searchText;};export var getFilteredSchedule=createSelector(getSchedule,getFilteredTracks,function(schedule,filteredTracks){var groups=[];schedule.groups.forEach(function(group){var sessions=[];group.sessions.forEach(function(session){session.tracks.forEach(function(track){if(filteredTracks.indexOf(track)>-1){sessions.push(session);}});});if(sessions.length){var groupToAdd={time:group.time,sessions:sessions};groups.push(groupToAdd);}});return{date:schedule.date,groups:groups};});export var getSearchedSchedule=createSelector(getFilteredSchedule,getSearchText,function(schedule,searchText){if(!searchText){return schedule;}var groups=[];schedule.groups.forEach(function(group){var sessions=group.sessions.filter(function(s){return s.name.toLowerCase().indexOf(searchText.toLowerCase())>-1;});if(sessions.length){var groupToAdd={time:group.time,sessions:sessions};groups.push(groupToAdd);}});return{date:schedule.date,groups:groups};});export var getScheduleList=createSelector(getSearchedSchedule,function(schedule){return schedule;});export var getGroupedFavorites=createSelector(getScheduleList,getFavoriteIds,function(schedule,favoriteIds){var groups=[];schedule.groups.forEach(function(group){var sessions=group.sessions.filter(function(s){return favoriteIds.indexOf(s.id)>-1;});if(sessions.length){var groupToAdd={time:group.time,sessions:sessions};groups.push(groupToAdd);}});return{date:schedule.date,groups:groups};});var getIdParam=function getIdParam(_state,props){return props.match.params['id'];};export var getSession=createSelector(getSessions,getIdParam,function(sessions,id){return sessions.find(function(s){return s.id===id;});});export var getSpeaker=createSelector(getSpeakers,getIdParam,function(speakers,id){return speakers.find(function(x){return x.id===id;});});export var getSpeakerSessions=createSelector(getSessions,function(sessions){var speakerSessions={};sessions.forEach(function(session){session.speakerNames&&session.speakerNames.forEach(function(name){if(speakerSessions[name]){speakerSessions[name].push(session);}else{speakerSessions[name]=[session];}});});return speakerSessions;});export var mapCenter=function mapCenter(state){var item=state.data.locations.find(function(l){return l.id===state.data.mapCenterId;});if(item==null){return{id:1,name:'Map Center',lat:43.071584,lng:-89.380120};}return item;};","map":{"version":3,"sources":["/home/fazna/cleanit/src/data/selectors.ts"],"names":["createSelector","getSchedule","state","data","schedule","getSpeakers","speakers","getSessions","sessions","getFilteredTracks","filteredTracks","getFavoriteIds","favorites","getSearchText","searchText","getFilteredSchedule","groups","forEach","group","session","tracks","track","indexOf","push","length","groupToAdd","time","date","getSearchedSchedule","filter","s","name","toLowerCase","getScheduleList","getGroupedFavorites","favoriteIds","id","getIdParam","_state","props","match","params","getSession","find","getSpeaker","x","getSpeakerSessions","speakerSessions","speakerNames","mapCenter","item","locations","l","mapCenterId","lat","lng"],"mappings":"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","sourcesContent":["import { createSelector } from 'reselect';\nimport { Schedule, Session, ScheduleGroup } from '../models/Schedule';\nimport { AppState } from './state';\n\nconst getSchedule = (state: AppState) => {\n\n  return state.data.schedule\n};\nexport const getSpeakers = (state: AppState) => state.data.speakers;\nconst getSessions = (state: AppState) => state.data.sessions;\nconst getFilteredTracks = (state: AppState) => state.data.filteredTracks;\nconst getFavoriteIds = (state: AppState) => state.data.favorites;\nconst getSearchText = (state: AppState) => state.data.searchText;\n\nexport const getFilteredSchedule = createSelector(\n  getSchedule, getFilteredTracks,\n  (schedule, filteredTracks) => {\n    const groups: ScheduleGroup[] = [];\n    schedule.groups.forEach(group => {\n      const sessions: Session[] = [];\n      group.sessions.forEach(session => {\n        session.tracks.forEach(track => {\n          if (filteredTracks.indexOf(track) > -1) {\n            sessions.push(session);\n          }\n        })\n      })\n      if (sessions.length) {\n        const groupToAdd: ScheduleGroup = {\n          time: group.time,\n          sessions\n        }\n        groups.push(groupToAdd);\n      }\n    });\n\n    return {\n      date: schedule.date,\n      groups\n    } as Schedule;\n  }\n);\n\nexport const getSearchedSchedule = createSelector(\n  getFilteredSchedule, getSearchText,\n  (schedule, searchText) => {\n    if (!searchText) {\n      return schedule;\n    }\n    const groups: ScheduleGroup[] = [];\n    schedule.groups.forEach(group => {\n\n      const sessions = group.sessions.filter(s => s.name.toLowerCase().indexOf(searchText.toLowerCase()) > -1)\n      if (sessions.length) {\n        const groupToAdd: ScheduleGroup = {\n          time: group.time,\n          sessions\n        }\n        groups.push(groupToAdd);\n      }\n    });\n    return {\n      date: schedule.date,\n      groups\n    } as Schedule;\n  }\n)\n\nexport const getScheduleList = createSelector(\n  getSearchedSchedule,\n  (schedule) => schedule\n);\n\nexport const getGroupedFavorites = createSelector(\n  getScheduleList, getFavoriteIds,\n  (schedule, favoriteIds) => {\n    const groups: ScheduleGroup[] = [];\n    schedule.groups.forEach(group => {\n      const sessions = group.sessions.filter(s => favoriteIds.indexOf(s.id) > -1)\n      if (sessions.length) {\n        const groupToAdd: ScheduleGroup = {\n          time: group.time,\n          sessions\n        }\n        groups.push(groupToAdd);\n      }\n    });\n    return {\n      date: schedule.date,\n      groups\n    } as Schedule;\n  }\n);\n\n\nconst getIdParam = (_state: AppState, props: any) => {\n  return props.match.params['id'];\n}\n\nexport const getSession = createSelector(\n  getSessions, getIdParam,\n  (sessions, id) => {\n    return sessions.find(s => s.id === id);\n  }\n);\n\nexport const getSpeaker = createSelector(\n  getSpeakers, getIdParam,\n  (speakers, id) => speakers.find(x => x.id === id)\n);\n\nexport const getSpeakerSessions = createSelector(\n  getSessions,\n  (sessions) => {\n    const speakerSessions: { [key: string]: Session[] } = {};\n\n    sessions.forEach(session => {\n      session.speakerNames && session.speakerNames.forEach(name => {\n        if (speakerSessions[name]) {\n          speakerSessions[name].push(session);\n        } else {\n          speakerSessions[name] = [session];\n        }\n      })\n    });\n    return speakerSessions;\n  }\n);\n\nexport const mapCenter = (state: AppState) => {\n  const item = state.data.locations.find(l => l.id === state.data.mapCenterId);\n  if (item == null) {\n    return {\n      id: 1,\n      name: 'Map Center',\n      lat: 43.071584,\n      lng: -89.380120\n    };\n  }\n  return item;\n}\n"]},"metadata":{},"sourceType":"module"}