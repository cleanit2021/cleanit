{"ast":null,"code":"import _regeneratorRuntime from\"/home/fazna/cleanit/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/fazna/cleanit/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{useEffect,useContext}from'react';import{IonRouterContext}from'@ionic/react';import{Plugins}from'@capacitor/core';// import { Storage } from '@capacitor/storage';\nvar Storage=Plugins.Storage;var RedirectToLogin=function RedirectToLogin(_ref){var setIsLoggedIn=_ref.setIsLoggedIn,setUsername=_ref.setUsername;var ionRouterContext=useContext(IonRouterContext);var removeName=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return Storage.remove({key:'phonenumber'});case 2:case\"end\":return _context.stop();}}},_callee);}));return function removeName(){return _ref2.apply(this,arguments);};}();useEffect(function(){setIsLoggedIn(false);setUsername(undefined);removeName();ionRouterContext.push('/signup');},[setIsLoggedIn,setUsername,ionRouterContext]);return null;};export default RedirectToLogin;","map":{"version":3,"sources":["/home/fazna/cleanit/src/components/RedirectToLogin.tsx"],"names":["useEffect","useContext","IonRouterContext","Plugins","Storage","RedirectToLogin","setIsLoggedIn","setUsername","ionRouterContext","removeName","remove","key","undefined","push"],"mappings":"iRAAA,OAAgBA,SAAhB,CAA2BC,UAA3B,KAA6C,OAA7C,CACA,OAASC,gBAAT,KAAiC,cAAjC,CACA,OAASC,OAAT,KAAwB,iBAAxB,CAMA;AACA,GAAQC,CAAAA,OAAR,CAAoBD,OAApB,CAAQC,OAAR,CACA,GAAMC,CAAAA,eAA+C,CAAG,QAAlDA,CAAAA,eAAkD,MAAoC,IAAjCC,CAAAA,aAAiC,MAAjCA,aAAiC,CAAlBC,WAAkB,MAAlBA,WAAkB,CAC1F,GAAMC,CAAAA,gBAAgB,CAAGP,UAAU,CAACC,gBAAD,CAAnC,CAEA,GAAMO,CAAAA,UAAU,2FAAG,yJACXL,CAAAA,OAAO,CAACM,MAAR,CAAe,CAAEC,GAAG,CAAE,aAAP,CAAf,CADW,uDAAH,kBAAVF,CAAAA,UAAU,2CAAhB,CAGAT,SAAS,CAAC,UAAM,CACdM,aAAa,CAAC,KAAD,CAAb,CACAC,WAAW,CAACK,SAAD,CAAX,CACAH,UAAU,GACVD,gBAAgB,CAACK,IAAjB,CAAsB,SAAtB,EACD,CALQ,CAKN,CAACP,aAAD,CAAgBC,WAAhB,CAA6BC,gBAA7B,CALM,CAAT,CAMA,MAAO,KAAP,CACD,CAbD,CAeA,cAAeH,CAAAA,eAAf","sourcesContent":["import React, { useEffect, useContext } from 'react';\nimport { IonRouterContext } from '@ionic/react';\nimport { Plugins } from '@capacitor/core'\n\ninterface RedirectToLoginProps {\n  setIsLoggedIn: Function;\n  setUsername: Function;\n}\n// import { Storage } from '@capacitor/storage';\nconst { Storage } = Plugins\nconst RedirectToLogin: React.FC<RedirectToLoginProps> = ({ setIsLoggedIn, setUsername }) => {\n  const ionRouterContext = useContext(IonRouterContext);\n\n  const removeName = async () => {\n    await Storage.remove({ key: 'phonenumber' });\n  };\n  useEffect(() => {\n    setIsLoggedIn(false);\n    setUsername(undefined);\n    removeName();\n    ionRouterContext.push('/signup')\n  }, [setIsLoggedIn, setUsername, ionRouterContext]);\n  return null;\n};\n\nexport default RedirectToLogin;\n"]},"metadata":{},"sourceType":"module"}