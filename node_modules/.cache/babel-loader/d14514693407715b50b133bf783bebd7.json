{"ast":null,"code":"import _regeneratorRuntime from \"/home/fazna/cleanit/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/fazna/cleanit/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/home/fazna/cleanit/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/fazna/cleanit/src/pages/Login.tsx\";\n\nimport React, { useState } from 'react';\nimport { IonHeader, IonToolbar, IonTitle, IonContent, IonPage, IonButtons, IonMenuButton, IonRow, IonCol, IonButton, IonList, IonItem, IonLabel, IonInput, IonText, IonTextarea, IonToggle } from '@ionic/react';\nimport './Login.scss';\nimport { setIsLoggedIn, setUsername } from '../data/user/user.actions';\nimport { connect } from '../data/connect';\nimport firebase from 'firebase/app';\nimport 'firebase/firestore';\n\nvar Login = function Login(_ref) {\n  var setIsLoggedIn = _ref.setIsLoggedIn,\n      history = _ref.history,\n      setUsernameAction = _ref.setUsername;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      username = _useState2[0],\n      setUsername = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      age = _useState4[0],\n      setAge = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      coord = _useState6[0],\n      setCoord = _useState6[1];\n\n  var _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      location = _useState8[0],\n      setLocation = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      gpsEnable = _useState10[0],\n      setGpsEnabled = _useState10[1];\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      formSubmitted = _useState12[0],\n      setFormSubmitted = _useState12[1];\n\n  var _useState13 = useState(false),\n      _useState14 = _slicedToArray(_useState13, 2),\n      usernameError = _useState14[0],\n      setUsernameError = _useState14[1];\n\n  var _useState15 = useState(false),\n      _useState16 = _slicedToArray(_useState15, 2),\n      passwordError = _useState16[0],\n      setPasswordError = _useState16[1];\n\n  var login = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var db, data, res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              setFormSubmitted(true);\n\n              if (!username) {\n                setUsernameError(true);\n              }\n\n              db = firebase.firestore();\n              data = {\n                date: '12-10-19',\n                image: image,\n                time: time\n              };\n              _context.next = 7;\n              return db.collection('user_data').doc(username).set(data);\n\n            case 7:\n              res = _context.sent;\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function login(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var getLocation = function getLocation() {// api.get('http://api.positionstack.com/v1/forward?access_key=bce98239614aaa6f7954015a64f6bb76')\n  };\n\n  return /*#__PURE__*/React.createElement(IonPage, {\n    id: \"details-page\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(IonHeader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(IonToolbar, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IonButtons, {\n    slot: \"start\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IonMenuButton, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(IonTitle, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, \"Details\"))), /*#__PURE__*/React.createElement(IonContent, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    noValidate: true,\n    onSubmit: login,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IonList, {\n    className: \"div-with-space\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IonItem, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    position: \"stacked\",\n    color: \"primary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 15\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(IonInput, {\n    name: \"username\",\n    type: \"text\",\n    value: username,\n    spellCheck: false,\n    autocapitalize: \"off\",\n    onIonChange: function onIonChange(e) {\n      return setUsername(e.detail.value);\n    },\n    required: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 15\n    }\n  })), formSubmitted && usernameError && /*#__PURE__*/React.createElement(IonText, {\n    color: \"danger\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 48\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"ion-padding-start\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 15\n    }\n  }, \"Name is required\")), /*#__PURE__*/React.createElement(IonItem, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    position: \"stacked\",\n    color: \"primary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 15\n    }\n  }, \"Age\"), /*#__PURE__*/React.createElement(IonInput, {\n    name: \"age\",\n    type: \"number\",\n    value: age,\n    spellCheck: false,\n    autocapitalize: \"off\",\n    onIonChange: function onIonChange(e) {\n      return setAge(e.detail.value);\n    },\n    required: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(IonItem, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    position: \"stacked\",\n    color: \"primary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 15\n    }\n  }, \"Use GPS\"), /*#__PURE__*/React.createElement(IonToggle, {\n    checked: gpsEnable,\n    onIonChange: function onIonChange(e) {\n      return setGpsEnabled(e.detail.checked);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 15\n    }\n  })), !gpsEnable && /*#__PURE__*/React.createElement(IonItem, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    position: \"stacked\",\n    color: \"primary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 15\n    }\n  }, \"Location\"), /*#__PURE__*/React.createElement(IonTextarea, {\n    name: \"text\",\n    value: location,\n    spellCheck: false,\n    autocapitalize: \"off\",\n    onIonChange: function onIonChange(e) {\n      return setLocation(e.detail.value);\n    },\n    required: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 15\n    }\n  })), gpsEnable && /*#__PURE__*/React.createElement(IonItem, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    position: \"stacked\",\n    color: \"primary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 15\n    }\n  }, \"Location\"), /*#__PURE__*/React.createElement(IonButton, {\n    color: \"primary\",\n    onClick: function onClick() {\n      getLocation();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 15\n    }\n  }, \"Use Current Location\"))), /*#__PURE__*/React.createElement(IonRow, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IonCol, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IonButton, {\n    type: \"submit\",\n    expand: \"block\",\n    onClick: function onClick(e) {\n      return login(e);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 15\n    }\n  }, \"Submit\"))))));\n};\n\nexport default connect({\n  mapDispatchToProps: {\n    setIsLoggedIn: setIsLoggedIn,\n    setUsername: setUsername\n  },\n  component: Login\n});","map":{"version":3,"sources":["/home/fazna/cleanit/src/pages/Login.tsx"],"names":["React","useState","IonHeader","IonToolbar","IonTitle","IonContent","IonPage","IonButtons","IonMenuButton","IonRow","IonCol","IonButton","IonList","IonItem","IonLabel","IonInput","IonText","IonTextarea","IonToggle","setIsLoggedIn","setUsername","connect","firebase","Login","history","setUsernameAction","username","age","setAge","coord","setCoord","location","setLocation","gpsEnable","setGpsEnabled","formSubmitted","setFormSubmitted","usernameError","setUsernameError","passwordError","setPasswordError","login","e","preventDefault","db","firestore","data","date","image","time","collection","doc","set","res","getLocation","detail","value","checked","mapDispatchToProps","component"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { IonHeader, IonToolbar, IonTitle, IonContent, IonPage, IonButtons, IonMenuButton, IonRow, IonCol, IonButton, IonList, IonItem, IonLabel, IonInput, IonText, IonTextarea, IonToggle } from '@ionic/react';\nimport './Login.scss';\nimport { setIsLoggedIn, setUsername } from '../data/user/user.actions';\nimport { connect } from '../data/connect';\nimport { RouteComponentProps } from 'react-router';\nimport firebase from 'firebase/app'\nimport 'firebase/firestore';\n\ninterface OwnProps extends RouteComponentProps {}\n\ninterface DispatchProps {\n  setIsLoggedIn: typeof setIsLoggedIn;\n  setUsername: typeof setUsername;\n}\n\ninterface LoginProps extends OwnProps,  DispatchProps { }\n\nconst Login: React.FC<LoginProps> = ({setIsLoggedIn, history, setUsername: setUsernameAction}) => {\n\n  const [username, setUsername] = useState('');\n  const [age,setAge] = useState('');\n  const [coord,setCoord] = useState('');\n  const [location,setLocation] = useState('');\n  const [gpsEnable,setGpsEnabled] = useState(false)\n  const [formSubmitted, setFormSubmitted] = useState(false);\n  const [usernameError, setUsernameError] = useState(false);\n  const [passwordError, setPasswordError] = useState(false);\n\n  const login = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setFormSubmitted(true);\n    if(!username) {\n      setUsernameError(true);\n    }\n    const db = firebase.firestore()\n    const data = {\n      date:'12-10-19',\n      image:image,\n      time:time\n    }\n    let res = await db.collection('user_data').doc(username).set(data)\n\n\n    \n    // history.push('/dashboard', {direction: 'none'});\n\n  };\n  const getLocation = () => {\n    // api.get('http://api.positionstack.com/v1/forward?access_key=bce98239614aaa6f7954015a64f6bb76')\n  }\n  return (\n    <IonPage id=\"details-page\">\n      <IonHeader>\n        <IonToolbar>\n          <IonButtons slot=\"start\">\n            <IonMenuButton></IonMenuButton>\n          </IonButtons>\n          <IonTitle>Details</IonTitle>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent>\n\n        <form noValidate onSubmit={login}>\n          <IonList className=\"div-with-space\">\n            <IonItem>\n              <IonLabel position=\"stacked\" color=\"primary\">Name</IonLabel>\n              <IonInput name=\"username\" type=\"text\" value={username} spellCheck={false} autocapitalize=\"off\" onIonChange={e => setUsername(e.detail.value!)}\n                required>\n              </IonInput>\n            </IonItem>\n\n            {formSubmitted && usernameError && <IonText color=\"danger\">\n              <p className=\"ion-padding-start\">\n                Name is required\n              </p>\n            </IonText>}\n\n            \n            <IonItem>\n              <IonLabel position=\"stacked\" color=\"primary\">Age</IonLabel>\n              <IonInput name=\"age\" type=\"number\" value={age} spellCheck={false} autocapitalize=\"off\" onIonChange={e => setAge(e.detail.value!)}\n                required>\n              </IonInput>\n            </IonItem>\n            <IonItem>\n              <IonLabel position=\"stacked\" color=\"primary\">Use GPS</IonLabel>\n              <IonToggle checked={gpsEnable} onIonChange={e => setGpsEnabled(e.detail.checked)} />\n            \n            </IonItem>\n            { !gpsEnable && \n            <IonItem>\n              <IonLabel position=\"stacked\" color=\"primary\">Location</IonLabel>\n              <IonTextarea name=\"text\" value={location} spellCheck={false} autocapitalize=\"off\" onIonChange={e => setLocation(e.detail.value!)}\n                required>\n              </IonTextarea>\n            </IonItem>}\n            { gpsEnable && \n            <IonItem>\n              <IonLabel position=\"stacked\" color=\"primary\">Location</IonLabel>\n              <IonButton color=\"primary\" onClick={()=>{getLocation()}}>Use Current Location</IonButton>\n            </IonItem>}\n          </IonList>\n\n          <IonRow>\n            <IonCol>\n              <IonButton type=\"submit\" expand=\"block\" onClick={(e)=>login(e)}>Submit</IonButton>\n            </IonCol>\n            {/* <IonCol>\n              <IonButton routerLink=\"/signup\" color=\"light\" expand=\"block\">Signup</IonButton>\n            </IonCol> */}\n          </IonRow>\n        </form>\n\n      </IonContent>\n\n    </IonPage>\n  );\n};\n\nexport default connect<OwnProps, {}, DispatchProps>({\n  mapDispatchToProps: {\n    setIsLoggedIn,\n    setUsername\n  },\n  component: Login\n})"]},"metadata":{},"sourceType":"module"}